
cam_to_wps - GCM to WRF Pre-Processing Program
----------------------------------------------

	This program was developed at Iowa State University, adopted 
	from Ruby Leung's Fortran program, to generate WRF initial and 
	lateral boundary conditions using CCSM4 (MOAR) data obtained from 
	Earth System Grid. 

	We make no representations or warranties of any kind concerning 
	the program and any results generated by the use of this program, 
	express or implied, and the absence of any legal or actual 
	defects, whether discoverable or not. The use of this program and 
	results is at your own risk.

        This program is provided with no support and without any 
	obligation on the part of Iowa State University, their employees, 
	or students to assist in its use or modification.

How to use this program:

	1. CAM (MOAR) data should be downloaded from Earth System Grid 
	   (https://www.earthsystemgrid.org/dataset/ucar.cgd.ccsm4.b40.20th.track1.1deg.012.html).
	   The variables to be downloaded by submodel:
	   CAM: (6-hrly)
		P0, PS, PSL, Q, T, U, V, Z3
		(monthly)
		PHIS, LANDFRAC
	   CLM: (daily)
		SOILWATER_10CM, TSOI_10CM
	   POP: (daily)
		SST
	   CIC: (daily)
		aice_d
	2. Invariant files for surface geopotential (PHIS) and land 
	   fraction (LANDFRAC) should be created. Check phis_header.txt 
	   and landfrac_header.txt for documentation on how to create 
	   this data.
	3. ext_dates.sh - This program extracts CCSM4 data into smaller, 
	                  yearly files, which is necessary for the 
	                  copy_times.ncl script. Before running this 
	                  script, check that paths are relevent to the 
	                  location of data on your machine.
	4. copy_times.ncl - This program reads in yearly files created 
	                    by ext_dates.sh, creates 6-hrly data from 
	                    daily and invariant data, and writes data 
	                    as individual times by submodel needed by 
	                    CAM_netcdf_to_GRIB.ncl. Before running this 
	                    script, check that paths are relevent to the 
	                    location of data on your machine.
	5. run_CAM.bash - This program sets up and runs 
	                  CAM_netcdf_to_GRIB.ncl, that calculates 
	                  variables needed by WPS, interpolates 3-D data 
	                  from CAM's hybrid to pressure levels, regrids 
	                  POP/CIC data to the CAM grid using ESMF "patch" 
	                  regridding method (similar to bicubic), and 
	                  writes the data to GRIB (version 1). Before 
	                  running this script, check that paths in this 
	                  script and CAM_netcdf_to_GRIB_tmpl.ncl are 
	                  relevant to the location of data on your 
	                  machine. 
	                  **NOTE** - If using a different GCM other than 
	                  CCSM4, different description and weight files  
	                  may need to be created. To create these files, 
	                  edit and run *_CAM_regrid.ncl scripts.

	6. Obtain the Vtable.CCSM to use as the Vtable. Run WPS programs 
	   (geogrid, ungrib, and metgrid).
